{"version":3,"sources":["components/Button/Button.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","components/Searchbar/Searchbar.js","services/api.js","App.js","reportWebVitals.js","index.js"],"names":["Button","onClick","className","type","ImageGalleryItem","images","map","image","src","webformatURL","data-sourse","largeImageURL","alt","id","ImageGallery","Modal","handleKeyDown","e","code","props","onClose","handleBackdropClick","currentTarget","target","console","log","window","addEventListener","this","removeEventListener","Component","Searchbar","state","inputValue","handleChange","setState","value","handleSubmit","preventDefault","onSubmit","autoComplete","autoFocus","placeholder","onChange","searchQuery","page","KEYAPI","axios","get","then","response","data","hits","App","loading","error","showModal","fetchImages","Api","prevState","catch","finally","handleSearchBarSubmit","query","toggleModal","dataset","sourse","prevProps","prevQuery","nextQuery","nextPage","scrollTo","top","document","documentElement","scrollHeight","behavior","message","color","height","width","timeout","length","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.65018066.chunk.js","sourcesContent":["import './Button.css';\r\n\r\nexport default function Button({ onClick }) {\r\n    return (\r\n      <button className=\"Button\" type=\"button\" onClick={onClick}>\r\n        Load more\r\n      </button>\r\n    );\r\n  }","import './ImageGalleryItem.css';\r\n\r\nexport default function ImageGalleryItem({ images, onClick }) {\r\n    return (\r\n      <>\r\n        {images.map(image => (\r\n          <li className=\"ImageGalleryItem\" key={image.id}>\r\n            <img\r\n              onClick={onClick}\r\n              src={image.webformatURL}\r\n              data-sourse={image.largeImageURL}\r\n              alt=\"\"\r\n              className=\"ImageGalleryItem-image\"\r\n            />\r\n          </li>\r\n        ))}\r\n      </>\r\n    );\r\n  }","import React from 'react';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport './ImageGallery.css';\r\n\r\nexport default function ImageGallery({ images, onClick }) {\r\n  return (\r\n    <div>\r\n      <ul className=\"ImageGallery\">\r\n        <ImageGalleryItem images={images} onClick={onClick} />\r\n      </ul>\r\n    </div>\r\n  );\r\n}","import React, { Component } from 'react';\r\nimport './Modal.css';\r\n\r\n\r\nexport default class Modal extends Component {\r\n\r\n    componentDidMount() {\r\n    console.log('Modal componentDidMount')\r\n    window.addEventListener('keydown', this.handleKeyDown)\r\n}\r\n    componentWillUnmount() {\r\n    console.log('Modal componentWillUnmount')\r\n    window.removeEventListener('keydown', this.handleKeyDown)\r\n}\r\n\r\n    handleKeyDown = e => {\r\n        if (e.code === 'Escape') {\r\n            this.props.onClose(e);\r\n        }\r\n}\r\n    handleBackdropClick = e => {\r\n        if (e.currentTarget === e.target) {\r\n            console.log('Клик на бекдроп')\r\n            this.props.onClose(e);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"Overlay\" onClick={this.handleBackdropClick}>\r\n                <div className=\"Modal\">\r\n                    <img src={this.props.largeImageURL} alt=\"\" />\r\n                </div>\r\n            </div>\r\n            );\r\n        }\r\n}","import React, { Component } from 'react';\r\nimport './/Searchbar.css';\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    inputValue: '',\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      inputValue: e.target.value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    // console.log(this.state.inputValue);\r\n    this.props.onSubmit(this.state.inputValue);\r\n    this.setState({\r\n      inputValue: '',\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\" onSubmit={this.handleSubmit}>\r\n        <form className=\"SearchForm\">\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.inputValue}\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}","import axios from 'axios';\r\n\r\nconst fetchImagesWithQuery = (searchQuery, page = 1) => {\r\n  const KEYAPI = '19307770-0b075029944e7b654fbe75927';\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=${KEYAPI}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    )\r\n    .then(response => response.data.hits);\r\n};\r\n\r\nexport default {\r\n  fetchImagesWithQuery,\r\n};","import React, { Component } from 'react';\nimport './App.css';\nimport Button from './components/Button/Button';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Loader from 'react-loader-spinner';\nimport Modal from './components/Modal/Modal';\nimport Searchbar from './components/Searchbar/Searchbar'\n\nimport Api from './services/api';\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    loading: false,\n    error: null,\n    searchQuery: '',\n    page: 1,\n    showModal: false,\n    largeImageURL: null,\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.searchQuery;\n    const nextQuery = this.state.searchQuery;\n    const nextPage = this.state.page;\n\n    if (prevQuery !== nextQuery) {\n      this.fetchImages();\n    }\n    if (nextPage > 2) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n  fetchImages = () => {\n    const { searchQuery, page } = this.state;\n\n    this.setState({ loading: true });\n\n    Api\n      .fetchImagesWithQuery(searchQuery, page)\n      .then(images => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images],\n          page: prevState.page + 1,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ loading: false }));\n  };\n\n  handleSearchBarSubmit = query => {\n    this.setState({\n      searchQuery: query,\n      page: 1,\n      images: [],\n    });\n  };\n\n  toggleModal = e => {\n    const largeImageURL = e.target.dataset.sourse;\n    this.setState(state => ({ showModal: !state.showModal, largeImageURL }));\n  };\n\nrender() {\n  const { images, loading, error, showModal, largeImageURL } = this.state;\n\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.handleSearchBarSubmit} />\n        {error && (\n          <div>message={`Whoops, something went wrong:${error.message}`}</div>\n        )}\n        {loading && (\n          <Loader\n            type=\"Puff\"\n            color=\"#00BFFF\"\n            height={100}\n            width={100}\n            timeout={500}\n          />\n        )}\n        {images.length > 0 && !loading && (\n          <ImageGallery images={images} onClick={this.toggleModal} />\n        )}\n        {images.length > 0 && !loading && <Button onClick={this.fetchImages} />}\n\n        {showModal && (\n          <Modal largeImageURL={largeImageURL} onClose={this.toggleModal} />\n        )}\n      </div>\n    );\n  }\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}